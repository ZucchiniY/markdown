---
title: 动量策略与动量钟摆策略
icons:
  - fas fa-fire red
  - fas fa-star green
tags:
  - 动量效应
  - 钱德动量摆
  - Momentum
  - Momentum Oscillator
categories:
  - 后台技术
  - Python
  - backtrader
keywords:
  - 动量策略回测
  - 动量钟摆策略回测
description: 动量钟摆效应与动量效应在场内基金中的应用。
headimg: 'https://cdn.jsdelivr.net/gh/zucchiniy/common@master/cover/quant.jpg'
thumbnail: 'https://cdn.jsdelivr.net/gh/zucchiniy/common@master/cover/quant.jpg'
abbrlink: 46291d8a
date: 2021-07-12 21:38:22
updated: 2021-07-12 21:38:22
---

## 理论

动量策略： **股票的收益率有延续原来的运动方向的趋势。——强者恒强。**

依据这个理论，还有一个延伸的出来的策略——动量反转策略： **表现差的股票在其后的一段时间内有强烈的趋势经历相当大的逆转。——弱者转强。**

## 策略

依据这两个理论反做的交易策略，也就是在一段时间内，选择效果最好的或者最差的期待配置。

## 回测

### 动量策略

选择一个基金组合，从中选择动量最好的一支基金买入持有至下一个周期。

```python momentum
def next(self):
    buy_id = 999
    c = [
        i.momentum[0]  #/ (i.datas[0].close + i.datas[0].open) * 2
        for i in self.mom
    ]
    index, value = c.index(max(c)), max(c)
    if value > 0:
        buy_id = index

    for i in range(0, len(c)):
        if i != buy_id:
            position_size = self.broker.getposition(
                data=self.datas[i]).size
            if position_size != 0:
                self.order_target_percent(data=self.datas[i], target=0)

    if buy_id != 999:
        position_size = self.broker.getposition(
            data=self.datas[buy_id]).size
        if position_size == 0:
            self.order_target_percent(data=self.datas[buy_id], target=0.98)
```

实现的思路非常简单，就是计算出基金组合中所有的基金的动量值，然后取最高的一支买入，然后每天都依据收盘价计算出动量最好的一支基金，如果不再是最好的，则卖出当前的基金，买入最好的那支。

基金组合选择的是 **沪深 300**，**中证 500** 和 **创业板** 三支。

从 2015 年 4 月 15 日开始回测，起始资金为 140000.00 元。与上次的数据做一下比较，可以说是非常好的，回撤也才 22% 。

| 资产总值  | 总利润    | 投资回报率 | 夏普指数 | 最大回撤周期 | 最大回撤 | 最大回撤资金 |
|-----------|-----------|------------|----------|--------------|----------|--------------|
| 318601.90 | 178601.90 | 1.28       | 0.69     | 800          | 22.05    | 46102.07     |

### 动量钟摆策略

这个策略的实现和动量策略一致，只不过在指标不同，总体思路是一样的。

| 资产总值  | 总利润    | 投资回报率 | 夏普指数 | 最大回撤周期 | 最大回撤 | 最大回撤资金 |
|-----------|-----------|------------|----------|--------------|----------|--------------|
| 322237.92 | 182237.92 | 1.30       | 0.87     | 475          | 23.48    | 48961.35     |

总体来说，收益也相差不多，但最查看对应的回测的图片可以发现，在持续上涨过程中，交易次数过多了。

## 优化思路

### 减少回撤

动量钟摆策略：如果三支基金都低于 100 ，则空仓或者买入债券型基金。

### 动量反转

动量策略中，取绝对值，如果最低的那支为负且绝对值大于动量最高值，则买入反转基金。

## 总结

策略的收益还是不错的，从 2015 年开始到现在，约 128% 的收益，与富国天惠比较一下，将时间拉到 2005 年 11 月 16 日。

再重新跑一下。


| 基金         | 投资回报率 | 夏普指数 | 最大回撤 |
|--------------|------------|----------|----------|
| 动量钟摆策略 | 8.07       | 0.72     | 23.48    |
| 动量策略     | 4.36       | 0.62     | 22.05    |
| 富国天惠     | 21.55      | 1.04     | 28.37    |

恩，还是比富国天惠差很多呀。但是能看出动量钟摆要比动量策略稳定不少，后面再优化一下两个策略。
